import{_ as B,N as O,d as i,h as c,j as w,J as C,D as M,u as p,O as A,I as d,B as g,C as h,a5 as q,c as x,a6 as pe,a7 as he,a8 as ye,a9 as be,aa as ie,ab as me,ac as ne,ad as V,G as ge,H as fe,e as b,K as f,R as P,ae as J,af as K,U as $,ag as W,W as R,x as oe,ah as ve,ai as ke,Q as F,aj as se,P as _e,ak as xe,al as we,am as re,i as Ce,an as Be,o as ce,A as Y,ao as Q,f as de,$ as Ve,k as T,Y as G,Z,a1 as U,a2 as X,a3 as Se,a4 as Te}from"./_plugin-vue_export-helper-DzSbII10.chunk.mjs";const Ie=["role"],Ae={key:0,class:"notecard__heading"},$e={class:"notecard__text"},ze=O({__name:"NcNoteCard",props:{heading:{default:void 0},showAlert:{type:Boolean},text:{default:void 0},type:{default:"warning"}},setup(t){const l=t,e=x(()=>l.showAlert||l.type==="error"),s=x(()=>{switch(l.type){case"error":return be;case"success":return ye;case"info":return he;default:return pe}});return(n,a)=>(i(),c("div",{class:M(["notecard",{[`notecard--${n.type}`]:n.type,"notecard--legacy":p(q)}]),role:e.value?"alert":"note"},[w(n.$slots,"icon",{},()=>[C(p(A),{path:s.value,class:M(["notecard__icon",{"notecard__icon--heading":n.heading}]),inline:""},null,8,["path","class"])],!0),d("div",null,[n.heading?(i(),c("p",Ae,g(n.heading),1)):h("",!0),w(n.$slots,"default",{},()=>[d("p",$e,g(n.text),1)],!0)])],10,Ie))}}),ee=B(ze,[["__scopeId","data-v-7e4656f9"]]),Me={class:"input-field__main-wrapper"},Le=["id","aria-describedby","disabled","placeholder","type","value"],He=["for"],Ne={class:"input-field__icon input-field__icon--leading"},Ee={key:2,class:"input-field__icon input-field__icon--trailing"},Oe=["id"],Ue=O({inheritAttrs:!1,__name:"NcInputField",props:W({class:{default:""},inputClass:{default:""},id:{default:()=>R()},label:{default:void 0},labelOutside:{type:Boolean},type:{default:"text"},placeholder:{default:void 0},showTrailingButton:{type:Boolean},trailingButtonLabel:{default:void 0},success:{type:Boolean},error:{type:Boolean},helperText:{default:""},disabled:{type:Boolean},pill:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:W(["trailingButtonClick"],["update:modelValue"]),setup(t,{expose:l,emit:e}){const s=ie(t,"modelValue"),n=t,a=e;l({focus:m,select:r});const u=me(),v=ne("input"),k=x(()=>n.showTrailingButton||n.success),H=x(()=>{if(n.placeholder)return n.placeholder;if(n.label)return q?n.label:""}),y=x(()=>n.label||n.labelOutside),S=x(()=>{const o=[];return n.helperText&&o.push(`${n.id}-helper-text`),u["aria-describedby"]&&o.push(String(u["aria-describedby"])),o.join(" ")||void 0});function m(o){v.value.focus(o)}function r(){v.value.select()}function _(o){const N=o.target;s.value=n.type==="number"&&typeof s.value=="number"?parseFloat(N.value):N.value}return(o,N)=>(i(),c("div",{class:M(["input-field",[{"input-field--disabled":o.disabled,"input-field--error":o.error,"input-field--label-outside":o.labelOutside||!y.value,"input-field--leading-icon":!!o.$slots.icon,"input-field--trailing-icon":k.value,"input-field--pill":o.pill,"input-field--success":o.success,"input-field--legacy":p(q)},o.$props.class]])},[d("div",Me,[d("input",V(o.$attrs,{id:o.id,ref:"input","aria-describedby":S.value,"aria-live":"polite",class:["input-field__input",o.inputClass],disabled:o.disabled,placeholder:H.value,type:o.type,value:s.value.toString(),onInput:_}),null,16,Le),!o.labelOutside&&y.value?(i(),c("label",{key:0,class:"input-field__label",for:o.id},g(o.label),9,He)):h("",!0),ge(d("div",Ne,[w(o.$slots,"icon",{},void 0,!0)],512),[[fe,!!o.$slots.icon]]),o.showTrailingButton?(i(),b(P,{key:1,class:"input-field__trailing-button","aria-label":o.trailingButtonLabel,disabled:o.disabled,variant:"tertiary-no-background",onClick:N[0]||(N[0]=ue=>a("trailingButtonClick",ue))},{icon:f(()=>[w(o.$slots,"trailing-button-icon",{},void 0,!0)]),_:3},8,["aria-label","disabled"])):o.success||o.error?(i(),c("div",Ee,[o.success?(i(),b(A,{key:0,path:p(J)},null,8,["path"])):(i(),b(A,{key:1,path:p(K)},null,8,["path"]))])):h("",!0)]),o.helperText?(i(),c("p",{key:0,id:`${o.id}-helper-text`,class:"input-field__helper-text-message"},[o.success?(i(),b(A,{key:0,class:"input-field__helper-text-message__icon",path:p(J),inline:""},null,8,["path"])):o.error?(i(),b(A,{key:1,class:"input-field__helper-text-message__icon",path:p(K),inline:""},null,8,["path"])):h("",!0),$(" "+g(o.helperText),1)],8,Oe)):h("",!0)],2))}}),te=B(Ue,[["__scopeId","data-v-bfba6aa6"]]);oe(ke,ve);const j=O({__name:"NcTextField",props:W({class:{},inputClass:{},id:{},label:{},labelOutside:{type:Boolean},type:{},placeholder:{},showTrailingButton:{type:Boolean},trailingButtonLabel:{default:void 0},success:{type:Boolean},error:{type:Boolean},helperText:{},disabled:{type:Boolean},pill:{type:Boolean},trailingButtonIcon:{default:"close"}},{modelValue:{default:""},modelModifiers:{}}),emits:["update:modelValue"],setup(t,{expose:l}){const e=ie(t,"modelValue"),s=t;l({focus:k,select:H});const n=ne("inputField"),a={arrowEnd:F("Save changes"),close:F("Clear text"),undo:F("Undo changes")},u=new Set(Object.keys(te.props)),v=x(()=>{const y=Object.fromEntries(Object.entries(s).filter(([S])=>u.has(S)));return y.trailingButtonLabel??=a[s.trailingButtonIcon],y});function k(y){n.value.focus(y)}function H(){n.value.select()}return(y,S)=>(i(),b(p(te),V(v.value,{ref:"inputField",modelValue:e.value,"onUpdate:modelValue":S[0]||(S[0]=m=>e.value=m)}),se({_:2},[y.$slots.icon?{name:"icon",fn:f(()=>[w(y.$slots,"icon")]),key:"0"}:void 0,y.type!=="search"?{name:"trailing-button-icon",fn:f(()=>[y.trailingButtonIcon==="arrowEnd"?(i(),b(p(A),{key:0,directional:"",path:p(_e)},null,8,["path"])):(i(),b(p(A),{key:1,path:y.trailingButtonIcon==="undo"?p(xe):p(we)},null,8,["path"]))]),key:"1"}:void 0]),1040,["modelValue"]))}}),je=`<svg
	xmlns="http://www.w3.org/2000/svg"
	viewBox="0 0 24 12">
	<path d="M17,1H7A5,5 0 0,0 2,6 5,5 0 0,0 7,11H17A5,5 0 0,0 22,6 5,5 0 0,0 17,1Z" />
	<circle
		cy="6"
		r="3"
		fill="var(--color-main-background)" />
</svg>`,Re=O({__name:"NcIconToggleSwitch",props:{checked:{type:Boolean},size:{default:34},inline:{type:Boolean,default:!1}},setup(t){re(s=>({"6bd152af":l.value,"16fd8ca9":e.value}));const l=x(()=>t.checked?"var(--color-primary-element)":"var(--color-text-maxcontrast)"),e=x(()=>t.checked?"calc(17 / 24 * 100%)":"calc(7 / 24 * 100%)");return(s,n)=>(i(),b(A,{class:M(s.$style.iconToggleSwitch),svg:je,size:s.size,inline:s.inline},null,8,["class","size","inline"]))}}),Fe="_iconToggleSwitch_WgcOx",Ge={"material-design-icon":"_material-design-icon_ZYrc5",iconToggleSwitch:Fe},Ze={$style:Ge},qe=B(Re,[["__cssModules",Ze]]),Pe=Symbol.for("insideRadioGroup");function We(){return Ce(Pe,void 0)}const Ye={name:"CheckboxBlankOutlineIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},De=["aria-hidden","aria-label"],Je=["fill","width","height"],Ke={d:"M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3M19,5V19H5V5H19Z"},Qe={key:0};function Xe(t,l,e,s,n,a){return i(),c("span",V(t.$attrs,{"aria-hidden":e.title?null:"true","aria-label":e.title,class:"material-design-icon checkbox-blank-outline-icon",role:"img",onClick:l[0]||(l[0]=u=>t.$emit("click",u))}),[(i(),c("svg",{fill:e.fillColor,class:"material-design-icon__svg",width:e.size,height:e.size,viewBox:"0 0 24 24"},[d("path",Ke,[e.title?(i(),c("title",Qe,g(e.title),1)):h("",!0)])],8,Je))],16,De)}const et=B(Ye,[["render",Xe]]),tt={name:"CheckboxMarkedIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},at=["aria-hidden","aria-label"],lt=["fill","width","height"],it={d:"M10,17L5,12L6.41,10.58L10,14.17L17.59,6.58L19,8M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z"},nt={key:0};function ot(t,l,e,s,n,a){return i(),c("span",V(t.$attrs,{"aria-hidden":e.title?null:"true","aria-label":e.title,class:"material-design-icon checkbox-marked-icon",role:"img",onClick:l[0]||(l[0]=u=>t.$emit("click",u))}),[(i(),c("svg",{fill:e.fillColor,class:"material-design-icon__svg",width:e.size,height:e.size,viewBox:"0 0 24 24"},[d("path",it,[e.title?(i(),c("title",nt,g(e.title),1)):h("",!0)])],8,lt))],16,at)}const st=B(tt,[["render",ot]]),rt={name:"MinusBoxIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},ct=["aria-hidden","aria-label"],dt=["fill","width","height"],ut={d:"M17,13H7V11H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z"},pt={key:0};function ht(t,l,e,s,n,a){return i(),c("span",V(t.$attrs,{"aria-hidden":e.title?null:"true","aria-label":e.title,class:"material-design-icon minus-box-icon",role:"img",onClick:l[0]||(l[0]=u=>t.$emit("click",u))}),[(i(),c("svg",{fill:e.fillColor,class:"material-design-icon__svg",width:e.size,height:e.size,viewBox:"0 0 24 24"},[d("path",ut,[e.title?(i(),c("title",pt,g(e.title),1)):h("",!0)])],8,dt))],16,ct)}const yt=B(rt,[["render",ht]]),bt={name:"RadioboxBlankIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},mt=["aria-hidden","aria-label"],gt=["fill","width","height"],ft={d:"M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"},vt={key:0};function kt(t,l,e,s,n,a){return i(),c("span",V(t.$attrs,{"aria-hidden":e.title?null:"true","aria-label":e.title,class:"material-design-icon radiobox-blank-icon",role:"img",onClick:l[0]||(l[0]=u=>t.$emit("click",u))}),[(i(),c("svg",{fill:e.fillColor,class:"material-design-icon__svg",width:e.size,height:e.size,viewBox:"0 0 24 24"},[d("path",ft,[e.title?(i(),c("title",vt,g(e.title),1)):h("",!0)])],8,gt))],16,mt)}const _t=B(bt,[["render",kt]]),xt={name:"RadioboxMarkedIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},wt=["aria-hidden","aria-label"],Ct=["fill","width","height"],Bt={d:"M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,7A5,5 0 0,0 7,12A5,5 0 0,0 12,17A5,5 0 0,0 17,12A5,5 0 0,0 12,7Z"},Vt={key:0};function St(t,l,e,s,n,a){return i(),c("span",V(t.$attrs,{"aria-hidden":e.title?null:"true","aria-label":e.title,class:"material-design-icon radiobox-marked-icon",role:"img",onClick:l[0]||(l[0]=u=>t.$emit("click",u))}),[(i(),c("svg",{fill:e.fillColor,class:"material-design-icon__svg",width:e.size,height:e.size,viewBox:"0 0 24 24"},[d("path",Bt,[e.title?(i(),c("title",Vt,g(e.title),1)):h("",!0)])],8,Ct))],16,wt)}const Tt=B(xt,[["render",St]]),L="checkbox",z="radio",I="switch",E="button",It={name:"NcCheckboxContent",components:{NcLoadingIcon:Ve,NcIconToggleSwitch:qe},props:{iconClass:{type:[String,Object],default:null},textClass:{type:[String,Object],default:null},type:{type:String,default:"checkbox",validator:t=>[L,z,I,E].includes(t)},buttonVariant:{type:Boolean,default:!1},isChecked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},iconSize:{type:Number,default:24},labelId:{type:String,required:!0},descriptionId:{type:String,required:!0}},computed:{isButtonType(){return this.type===E},isSwitchType(){return this.type===I},checkboxRadioIconElement(){return this.type===z?this.isChecked?Tt:_t:this.indeterminate?yt:this.isChecked?st:et}}},At={key:0,class:"checkbox-content__wrapper"},$t=["id"],zt=["id"];function Mt(t,l,e,s,n,a){const u=Y("NcLoadingIcon"),v=Y("NcIconToggleSwitch");return i(),c("span",{class:M(["checkbox-content",{["checkbox-content-"+e.type]:!0,"checkbox-content--button-variant":e.buttonVariant,"checkbox-content--has-text":!!t.$slots.default}])},[d("span",{class:M(["checkbox-content__icon",{"checkbox-content__icon--checked":e.isChecked,"checkbox-content__icon--has-description":!a.isButtonType&&t.$slots.description,[e.iconClass]:!0}]),"aria-hidden":!0,inert:""},[w(t.$slots,"icon",{checked:e.isChecked,loading:e.loading},()=>[e.loading?(i(),b(u,{key:0})):a.isSwitchType?(i(),b(v,{key:1,checked:e.isChecked,size:e.iconSize,inline:""},null,8,["checked","size"])):e.buttonVariant?h("",!0):(i(),b(de(a.checkboxRadioIconElement),{key:2,size:e.iconSize},null,8,["size"]))],!0)],2),t.$slots.default||t.$slots.description?(i(),c("span",At,[t.$slots.default?(i(),c("span",{key:0,id:e.labelId,class:M(["checkbox-content__text",e.textClass])},[w(t.$slots,"default",{},void 0,!0)],10,$t)):h("",!0),!a.isButtonType&&t.$slots.description?(i(),c("span",{key:1,id:e.descriptionId,class:"checkbox-content__description"},[w(t.$slots,"description",{},void 0,!0)],8,zt)):h("",!0)])):h("",!0)],2)}const Lt=B(It,[["render",Mt],["__scopeId","data-v-a060196e"]]);oe();const D={name:"NcCheckboxRadioSwitch",components:{NcCheckboxContent:Lt},inheritAttrs:!1,props:{id:{type:String,default:()=>"checkbox-radio-switch-"+R(),validator:t=>t.trim()!==""},wrapperId:{type:String,default:null},name:{type:String,default:null},ariaLabel:{type:String,default:""},type:{type:String,default:"checkbox",validator:t=>[L,z,I,E].includes(t)},buttonVariant:{type:Boolean,default:!1},buttonVariantGrouped:{type:String,default:"no",validator:t=>["no","vertical","horizontal"].includes(t)},modelValue:{type:[Boolean,Array,String],default:!1},value:{type:String,default:null},disabled:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},required:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},wrapperElement:{type:String,default:null},class:{type:[String,Array,Object],default:""},style:{type:[String,Array,Object],default:""},description:{type:String,default:null}},emits:["update:modelValue"],setup(t,{emit:l}){const e=We();ce(()=>e?.value.register(!1));const s=x(()=>e?.value?z:t.type),n=x({get(){return e?.value?e.value.modelValue:t.modelValue},set(a){e?.value?e.value.onUpdate(a):l("update:modelValue",a)}});return{internalType:s,internalModelValue:n,labelId:R(),descriptionId:R()}},computed:{isButtonType(){return this.internalType===E},computedWrapperElement(){return this.isButtonType?"button":this.wrapperElement!==null?this.wrapperElement:"span"},listeners(){return this.isButtonType?{click:this.onToggle}:{change:this.onToggle}},iconSize(){return this.internalType===I?36:20},cssIconSize(){return this.iconSize+"px"},cssIconHeight(){return this.internalType===I?"16px":this.cssIconSize},inputType(){return[L,z,E].includes(this.internalType)?this.internalType:L},isChecked(){return this.value!==null?Array.isArray(this.internalModelValue)?[...this.internalModelValue].indexOf(this.value)>-1:this.internalModelValue===this.value:this.internalModelValue===!0},hasIndeterminate(){return[L,z].includes(this.inputType)}},mounted(){if(this.name&&this.internalType===L&&!Array.isArray(this.internalModelValue))throw new Error("When using groups of checkboxes, the updated value will be an array.");if(this.name&&this.internalType===I)throw new Error("Switches are not made to be used for data sets. Please use checkboxes instead.");if(typeof this.internalModelValue!="boolean"&&this.internalType===I)throw new Error("Switches can only be used with boolean as modelValue prop.")},methods:{t:F,n:Be,onToggle(t){if(this.disabled||t.target.tagName.toLowerCase()==="a")return;if(this.internalType===z){this.internalModelValue=this.value;return}if(this.internalType===I){this.internalModelValue=!this.isChecked;return}if(typeof this.internalModelValue=="boolean"){this.internalModelValue=!this.internalModelValue;return}const l=this.getInputsSet().filter(e=>e.checked).map(e=>e.value);l.includes(this.value)?this.internalModelValue=l.filter(e=>e!==this.value):this.internalModelValue=[...l,this.value]},getInputsSet(){return[...document.getElementsByName(this.name)]}}},ae=()=>{re(t=>({"1d6eb36d":t.cssIconSize,"698a3993":t.cssIconHeight}))},le=D.setup;D.setup=le?(t,l)=>(ae(),le(t,l)):ae;const Ht=["id","aria-labelledby","aria-describedby","aria-label","disabled","type","value","checked",".indeterminate","required","name"];function Nt(t,l,e,s,n,a){const u=Y("NcCheckboxContent");return i(),b(de(a.computedWrapperElement),V({id:e.wrapperId??(a.isButtonType?e.id:null),"aria-label":a.isButtonType&&e.ariaLabel?e.ariaLabel:void 0,class:["checkbox-radio-switch",[t.$props.class,{["checkbox-radio-switch-"+s.internalType]:s.internalType,"checkbox-radio-switch--checked":a.isChecked,"checkbox-radio-switch--disabled":e.disabled,"checkbox-radio-switch--indeterminate":a.hasIndeterminate?e.indeterminate:!1,"checkbox-radio-switch--button-variant":e.buttonVariant,"checkbox-radio-switch--button-variant-v-grouped":e.buttonVariant&&e.buttonVariantGrouped==="vertical","checkbox-radio-switch--button-variant-h-grouped":e.buttonVariant&&e.buttonVariantGrouped==="horizontal","button-vue":a.isButtonType}]],style:e.style,type:a.isButtonType?"button":null},a.isButtonType?t.$attrs:{},Q(a.isButtonType?a.listeners:{})),{default:f(()=>[a.isButtonType?h("",!0):(i(),c("input",V({key:0,id:e.id,"aria-labelledby":!a.isButtonType&&!e.ariaLabel?s.labelId:null,"aria-describedby":!a.isButtonType&&(e.description||t.$slots.description)?s.descriptionId:null,"aria-label":e.ariaLabel||void 0,class:"checkbox-radio-switch__input",disabled:e.disabled,type:a.inputType,value:e.value,checked:a.isChecked,".indeterminate":a.hasIndeterminate?e.indeterminate:null,required:e.required,name:e.name},t.$attrs,Q(a.listeners,!0)),null,48,Ht)),C(u,{id:a.isButtonType?void 0:`${e.id}-label`,class:"checkbox-radio-switch__content",iconClass:"checkbox-radio-switch__icon",textClass:"checkbox-radio-switch__text",type:s.internalType,indeterminate:a.hasIndeterminate?e.indeterminate:!1,buttonVariant:e.buttonVariant,isChecked:a.isChecked,loading:e.loading,labelId:s.labelId,descriptionId:s.descriptionId,iconSize:a.iconSize,onClick:a.onToggle},se({icon:f(()=>[w(t.$slots,"icon",{},void 0,!0)]),_:2},[t.$slots.description||e.description?{name:"description",fn:f(()=>[w(t.$slots,"description",{},()=>[$(g(e.description),1)],!0)]),key:"0"}:void 0,t.$slots.default?{name:"default",fn:f(()=>[w(t.$slots,"default",{},void 0,!0)]),key:"1"}:void 0]),1032,["id","type","indeterminate","buttonVariant","isChecked","loading","labelId","descriptionId","iconSize","onClick"])]),_:3},16,["id","aria-label","class","style","type"])}const Et=B(D,[["render",Nt],["__scopeId","data-v-6808cde4"]]),Ot={class:"section"},Ut={class:"settings-form"},jt={class:"advanced-settings"},Rt={class:"button-group"},Ft=O({__name:"AdminSettings",setup(t){const l=T(""),e=T(""),s=T(30),n=T(10),a=T(!0),u=T(!1),v=T(!1),k=T(null),H=async()=>{try{const m=await G.get(Z("/ocs/v2.php/apps/nextcloudpresence/settings")),r=m.data.ocs?.data||m.data;l.value=r.url||"",e.value=r.token||"",s.value=parseInt(r.polling_interval)||30,n.value=parseInt(r.connection_timeout)||10,a.value=r.verify_ssl!==!1}catch{U("Failed to load settings")}},y=async()=>{v.value=!0,k.value=null;try{await G.post(Z("/ocs/v2.php/apps/nextcloudpresence/settings"),{url:l.value,token:e.value,polling_interval:s.value,connection_timeout:n.value,verify_ssl:a.value}),X("Settings saved successfully")}catch{U("Failed to save settings")}finally{v.value=!1}},S=async()=>{u.value=!0,k.value=null;try{const m=await G.post(Z("/ocs/v2.php/apps/nextcloudpresence/test-connection"),{url:l.value,token:e.value,connection_timeout:n.value,verify_ssl:a.value}),r=m.data.ocs?.data||m.data;k.value=r,r.success?X("Connection successful!"):U(r.message)}catch(m){k.value={success:!1,message:m.response?.data?.ocs?.data?.message||m.response?.data?.message||"Failed to test connection"},U("Connection test failed")}finally{u.value=!1}};return ce(()=>{H()}),(m,r)=>(i(),c("div",Ot,[r[9]||(r[9]=d("h2",null,"Home Assistant Integration",-1)),r[10]||(r[10]=d("p",{class:"settings-hint"}," Configure your Home Assistant connection to fetch person presence data. ",-1)),C(p(ee),{type:"info"},{default:f(()=>[...r[5]||(r[5]=[d("p",null,[$(" To get a Long-Lived Access Token from Home Assistant: "),d("ol",null,[d("li",null,"Go to your Home Assistant profile (click your username in the bottom left)"),d("li",null,'Scroll down to "Long-Lived Access Tokens"'),d("li",null,'Click "Create Token"'),d("li",null,'Give it a name (e.g., "Nextcloud Presence")'),d("li",null,"Copy the token and paste it below")])],-1)])]),_:1}),d("div",Ut,[C(p(j),{modelValue:l.value,"onUpdate:modelValue":r[0]||(r[0]=_=>l.value=_),label:"Home Assistant URL",placeholder:"http://homeassistant.local:8123","helper-text":"The full URL to your Home Assistant instance"},null,8,["modelValue"]),C(p(j),{modelValue:e.value,"onUpdate:modelValue":r[1]||(r[1]=_=>e.value=_),label:"Long-Lived Access Token",type:"password",placeholder:"Enter your Home Assistant token","helper-text":"Your Home Assistant access token"},null,8,["modelValue"]),d("div",jt,[r[7]||(r[7]=d("h3",null,"Connection Options",-1)),C(p(j),{modelValue:s.value,"onUpdate:modelValue":r[2]||(r[2]=_=>s.value=_),label:"Polling Interval (seconds)",type:"number",placeholder:"30","helper-text":"How often to refresh presence data (minimum: 10 seconds)"},null,8,["modelValue"]),C(p(j),{modelValue:n.value,"onUpdate:modelValue":r[3]||(r[3]=_=>n.value=_),label:"Connection Timeout (seconds)",type:"number",placeholder:"10","helper-text":"Maximum time to wait for Home Assistant to respond"},null,8,["modelValue"]),C(p(Et),{modelValue:a.value,"onUpdate:modelValue":r[4]||(r[4]=_=>a.value=_),"aria-describedby":"ssl-hint",type:"switch"},{default:f(()=>[...r[6]||(r[6]=[$(" Verify SSL Certificate ",-1)])]),_:1},8,["modelValue"]),r[8]||(r[8]=d("p",{id:"ssl-hint",class:"settings-hint ssl-hint"}," Disable only if using self-signed certificates ",-1))]),d("div",Rt,[C(p(P),{type:"primary",disabled:v.value||!l.value||!e.value,onClick:y},{default:f(()=>[$(g(v.value?"Saving...":"Save Settings"),1)]),_:1},8,["disabled"]),C(p(P),{disabled:u.value||!l.value||!e.value,onClick:S},{default:f(()=>[$(g(u.value?"Testing...":"Test Connection"),1)]),_:1},8,["disabled"])]),k.value?(i(),b(p(ee),{key:0,type:k.value.success?"success":"error"},{default:f(()=>[$(g(k.value.message),1)]),_:1},8,["type"])):h("",!0)])]))}}),Gt=Se(Ft,[["__scopeId","data-v-72769b90"]]),Zt=document.getElementById("nextcloudpresence-admin");Zt&&Te(Gt).mount("#nextcloudpresence-admin");
//# sourceMappingURL=nextcloudpresence-admin.mjs.map
